import { Story, Canvas, Meta, ArgsTable } from "@storybook/addon-docs/blocks";
import { html } from "lit-html";
import { ifDefined } from "lit-html/directives/if-defined";

export const storyWrapper = Story => {
  return html` <style>
      .story-wrapper--popover {
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0;
        padding: 100px 0;
      }
      .story-wrapper--popover .panel {
        box-sizing: border-box;
        padding: 5px 10px;
        background-color: var(--ui-color-bg);
        border: 1px solid var(--ui-color-border);
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      .story-wrapper--popover ui-button[slot="trigger"] button {
        width: 80px;
        height: 80px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
    </style>
    <div class="story-wrapper--popover">${Story()}</div>`;
};

export const Template = ({ placement, opened }) => html`
  <ui-popover placement=${ifDefined(placement)} ?opened=${opened}>
    <div class="panel">Popover Panel</div>
    <ui-button slot="trigger"><ui-icon name="caret-right"></ui-icon></ui-button>
  </ui-popover>
`;

<Meta
  title="Atoms/Popover"
  component={"ui-popover"}
  argTypes={{
    placement: {
      defaultValue: "bottom",
      control: {
        type: "radio",
        options: [
          "bottom",
          "bottom-start",
          "bottom-end",
          "top",
          "top-start",
          "top-end",
          "left",
          "left-start",
          "left-end",
          "right",
          "right-start",
          "right-end",
        ],
      },
    },
  }}
  parameters={{
    actions: {
      handles: ["uiShow", "uiHide"],
    },
  }}
/>

# Popover

<Canvas>
  <Story
    name="Popover"
    parameters={{ layout: "fullscreen" }}
    args={{
      placement: "top-start",
    }}
    decorators={[storyWrapper]}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Interface

<ArgsTable />
